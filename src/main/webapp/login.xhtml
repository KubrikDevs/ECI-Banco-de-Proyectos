<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:shiro="http://shiro.apache.org/tags"
      lang="es">

<h:head>
    <meta charset="utf-8"/>
    <script name="jquery/jquery.js" library="primefaces"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Login</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    <link rel="stylesheet" type="text/css" href="assets/css/login.css"/>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Arvo" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <link href="assets/img/tabicon.svg" rel="icon"/>
</h:head>

<h:body class="my-login-page">

    <section class="h-100">
        <div class="container h-100">
            <div class="row justify-content-md-center h-100">
                <div class="card-wrapper">
                    <div class="brand">
                        <img src="assets/img/logo.jpg" alt="logo"/>
                    </div>
                    <div class="card fat">
                        <div class="card-body">
                            <h4 class="card-title">Inicia sesión</h4>

                            <h:form class="my-login-validation" id="formulario" >
                                <p:messages id="messages" closable="true"/>

                                <div class="form-group">
                                    <label for="email">Correo</label>
                                    <input id="email" type="email" class="form-control" name="email" value="" required="true" autofocus="true" jsf:value="#{loginBean.email}"/>
                                    <div class="invalid-feedback">
                                        Introduzca Email valido.
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="password">Contraseña
                                    </label>
                                    <input id="password" type="password" class="form-control" name="password" required="true" data-eye="true" autofocus="true" jsf:value="#{loginBean.password}"/>
                                    <div class="invalid-feedback">
                                        Introduzca contraseña
                                    </div>
                                </div>

                                <div class="form-group m-0">
                                    <p:commandButton type="submit" class="btn btn-primary btn-block" value="Iniciar Sesion" actionListener="#{loginBean.login(loginBean.email, loginBean.password)}">

                                        <f:ajax execute="@form" render="email password"/>

                                    </p:commandButton>
                                </div>

                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="assets/js/my-login.js"></script>
</h:body>
</html>